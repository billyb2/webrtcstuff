 
<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<p id="id"></p>
<p id="debug"></p>
<p id="serverData"></p>
<input id="terminal"></input>

<script>
parcelRequire=function(a,s,e){var c="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function l(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof parcelRequire&&parcelRequire;if(!e&&n)return n(t,!0);if(c)return c(t,!0);if(u&&"string"==typeof t)return u(t);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}i.resolve=function(e){return a[t][1][e]||e},i.cache={};var o=s[t]=new l.Module(t);a[t][0].call(o.exports,i,o,o.exports,this)}return s[t].exports;function i(e){return l(i.resolve(e))}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=a,l.cache=s,l.parent=c,l.register=function(e,n){a[e]=[function(e,t){t.exports=n},{}]};for(var t=0;t<e.length;t++)l(e[t]);if(e.length){var n=l(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return n})}return l}({vHo1:[function(e,t,n){var r={};r.useBlobBuilder=function(){try{return new Blob([]),!1}catch(e){return!0}}(),r.useArrayBufferView=!r.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(e){return!0}}(),t.exports.binaryFeatures=r;var o=t.exports.BlobBuilder;function i(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(o=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),i.prototype.append=function(e){"number"==typeof e?this._pieces.push(e):(this.flush(),this._parts.push(e))},i.prototype.flush=function(){if(0<this._pieces.length){var e=new Uint8Array(this._pieces);r.useArrayBufferView||(e=e.buffer),this._parts.push(e),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),r.useBlobBuilder){for(var e=new o,t=0,n=this._parts.length;t<n;t++)e.append(this._parts[t]);return e.getBlob()}return new Blob(this._parts)},t.exports.BufferBuilder=i},{}],lHOc:[function(e,t,n){var r=e("./bufferbuilder").BufferBuilder,o=e("./bufferbuilder").binaryFeatures,i={unpack:function(e){return new a(e).unpack()},pack:function(e){var t=new s;return t.pack(e),t.getBuffer()}};function a(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function s(){this.bufferBuilder=new r}function c(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}t.exports=i,a.prototype.unpack=function(){var e,t=this.unpack_uint8();if(t<128)return t;if((224^t)<32)return(224^t)-32;if((e=160^t)<=15)return this.unpack_raw(e);if((e=176^t)<=15)return this.unpack_string(e);if((e=144^t)<=15)return this.unpack_array(e);if((e=128^t)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}},a.prototype.unpack_uint8=function(){var e=255&this.dataView[this.index];return this.index++,e},a.prototype.unpack_uint16=function(){var e=this.read(2),t=256*(255&e[0])+(255&e[1]);return this.index+=2,t},a.prototype.unpack_uint32=function(){var e=this.read(4),t=256*(256*(256*e[0]+e[1])+e[2])+e[3];return this.index+=4,t},a.prototype.unpack_uint64=function(){var e=this.read(8),t=256*(256*(256*(256*(256*(256*(256*e[0]+e[1])+e[2])+e[3])+e[4])+e[5])+e[6])+e[7];return this.index+=8,t},a.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-256},a.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-65536},a.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)},a.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)},a.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t},a.prototype.unpack_string=function(e){for(var t,n,r=this.read(e),o=0,i="";o<e;)(t=r[o])<128?(i+=String.fromCharCode(t),o++):(192^t)<32?(n=(192^t)<<6|63&r[o+1],i+=String.fromCharCode(n),o+=2):(n=(15&t)<<12|(63&r[o+1])<<6|63&r[o+2],i+=String.fromCharCode(n),o+=3);return this.index+=e,i},a.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t},a.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),o=this.unpack();t[r]=o}return t},a.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=(e>>23&255)-127;return(0==e>>31?1:-1)*(8388607&e|8388608)*Math.pow(2,t-23)},a.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=(e>>20&2047)-1023;return(0==e>>31?1:-1)*((1048575&e|1048576)*Math.pow(2,n-20)+t*Math.pow(2,n-52))},a.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")},s.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},s.prototype.pack=function(e){var t=typeof e;if("string"==t)this.pack_string(e);else if("number"==t)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if("boolean"==t)!0===e?this.bufferBuilder.append(195):!1===e&&this.bufferBuilder.append(194);else if("undefined"==t)this.bufferBuilder.append(192);else{if("object"!=t)throw new Error('Type "'+t+'" not yet supported');if(null===e)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File)this.pack_bin(e);else if(n==ArrayBuffer)o.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)o.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object)this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else{if("function"!=typeof e.toBinaryPack)throw new Error('Type "'+n.toString()+'" not yet supported');this.bufferBuilder.append(e.toBinaryPack())}}}this.bufferBuilder.flush()},s.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(t)}this.bufferBuilder.append(e)},s.prototype.pack_string=function(e){var t=function(e){return 600<e.length?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,c).length}(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(t)}this.bufferBuilder.append(e)},s.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(t)}for(var n=0;n<t;n++)this.pack(e[n])},s.prototype.pack_integer=function(e){if(-32<=e&&e<=127)this.bufferBuilder.append(255&e);else if(0<=e&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(-128<=e&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(0<=e&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(-32768<=e&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(0<=e&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(-2147483648<=e&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(-0x8000000000000000<=e&&e<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(e);else{if(!(0<=e&&e<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(e)}},s.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,o=Math.floor(r*Math.pow(2,52)),i=Math.pow(2,32),a=t<<31|n+1023<<20|o/i&1048575,s=o%i;this.bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(s)},s.prototype.pack_object=function(e){var t=Object.keys(e).length;if(t<=15)this.pack_uint8(128+t);else if(t<=65535)this.bufferBuilder.append(222),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(t)}for(var n in e)e.hasOwnProperty(n)&&(this.pack(n),this.pack(e[n]))},s.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)},s.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(255&e)},s.prototype.pack_uint32=function(e){var t=4294967295&e;this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},s.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)},s.prototype.pack_int8=function(e){this.bufferBuilder.append(255&e)},s.prototype.pack_int16=function(e){this.bufferBuilder.append((65280&e)>>8),this.bufferBuilder.append(255&e)},s.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},s.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)}},{"./bufferbuilder":"vHo1"}],sXtV:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription,n.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,n.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate},{}],BHXf:[function(e,t,n){var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});var o,i=r(e("js-binarypack")),c=e("./adapter"),u={iceServers:[{urls:"stun:stun.l.google.com:19302"}],sdpSemantics:"unified-plan"},a=(l.noop=function(){},l.validateId=function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},l.chunk=function(e){for(var t,n=[],r=e.size,o=Math.ceil(r/l.chunkedMTU),i=t=0;i<r;){var a=Math.min(r,i+l.chunkedMTU),s=e.slice(i,a),c={__peerData:this._dataCount,n:t,data:s,total:o};n.push(c),i=a,t++}return this._dataCount++,n},l.blobToArrayBuffer=function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsArrayBuffer(e)},l.blobToBinaryString=function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsBinaryString(e)},l.binaryStringToArrayBuffer=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer},l.randomToken=function(){return Math.random().toString(36).substr(2)},l.isSecure=function(){return"https:"===location.protocol},l.CLOUD_HOST="0.peerjs.com",l.CLOUD_PORT=443,l.chunkedBrowsers={Chrome:1},l.chunkedMTU=16300,l.defaultConfig=u,l.browser=(o=window).mozRTCPeerConnection?"Firefox":o.webkitRTCPeerConnection?"Chrome":o.RTCPeerConnection?"Supported":"Unsupported",l.supports=function(){if(void 0===c.RTCPeerConnection)return{};var e,t,n=!0,r=!0,o=!1,i=!1,a=!!window.webkitRTCPeerConnection;try{e=new c.RTCPeerConnection(u,{optional:[{RtpDataChannels:!0}]})}catch(e){r=n=!1}if(n)try{t=e.createDataChannel("_PEERJSTEST")}catch(e){n=!1}if(n){try{t.binaryType="blob",o=!0}catch(e){}var s=new c.RTCPeerConnection(u,{});try{i=s.createDataChannel("_PEERJSRELIABLETEST",{}).ordered}catch(e){}s.close()}return r=r&&!!e.addStream,e&&e.close(),{audioVideo:r,data:n,binaryBlob:o,binary:i,reliable:i,sctp:i,onnegotiationneeded:a}}(),l.pack=i.pack,l.unpack=i.unpack,l._dataCount=1,l);function l(){}n.util=a},{"js-binarypack":"lHOc","./adapter":"sXtV"}],"2JJl":[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,h="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new s(n,r||e,o),a=h?h+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(h=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(h?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=h?h+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},a.prototype.listenerCount=function(e){var t=h?h+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,r,o,i){var a=h?h+e:e;if(!this._events[a])return!1;var s,c,u=this._events[a],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,o),!0;case 6:return u.fn.call(u.context,t,n,r,o,i),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!s)for(p=1,s=new Array(l-1);p<l;p++)s[p-1]=arguments[p];u[c].fn.apply(u[c].context,s)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){var o=h?h+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,o);else{for(var a=0,s=[],c=i.length;a<c;a++)(i[a].fn!==t||r&&!i[a].once||n&&i[a].context!==n)&&s.push(i[a]);s.length?this._events[o]=1===s.length?s[0]:s:u(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=h?h+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=h,a.EventEmitter=a,void 0!==t&&(t.exports=a)},{}],"8WOs":[function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(n,"__esModule",{value:!0});var a,o;(o=a=n.LogLevel||(n.LogLevel={}))[o.Disabled=0]="Disabled",o[o.Errors=1]="Errors",o[o.Warnings=2]="Warnings",o[o.All=3]="All";var s=(Object.defineProperty(c.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),c.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=a.All&&this._print.apply(this,i([a.All],e))},c.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=a.Warnings&&this._print.apply(this,i([a.Warnings],e))},c.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=a.Errors&&this._print.apply(this,i([a.Errors],e))},c.prototype.setLogFunction=function(e){this._print=e},c.prototype._print=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=i(["PeerJS: "],t);for(var o in r)r[o]instanceof Error&&(r[o]="("+r[o].name+") "+r[o].message);e>=a.All?console.log.apply(console,i(r)):e>=a.Warnings?console.warn.apply(console,i(["WARNING"],r)):e>=a.Errors&&console.error.apply(console,i(["ERROR"],r))},c);function c(){this._logLevel=a.Disabled}n.default=new s},{}],"9ZRY":[function(e,t,n){"use strict";var r,o,i,a,s,c,u;Object.defineProperty(n,"__esModule",{value:!0}),(u=n.ConnectionEventType||(n.ConnectionEventType={})).Open="open",u.Stream="stream",u.Data="data",u.Close="close",u.Error="error",u.IceStateChanged="iceStateChanged",(c=n.ConnectionType||(n.ConnectionType={})).Data="data",c.Media="media",(s=n.PeerEventType||(n.PeerEventType={})).Open="open",s.Close="close",s.Connection="connection",s.Call="call",s.Disconnected="disconnected",s.Error="error",(a=n.PeerErrorType||(n.PeerErrorType={})).BrowserIncompatible="browser-incompatible",a.Disconnected="disconnected",a.InvalidID="invalid-id",a.InvalidKey="invalid-key",a.Network="network",a.PeerUnavailable="peer-unavailable",a.SslUnavailable="ssl-unavailable",a.ServerError="server-error",a.SocketError="socket-error",a.SocketClosed="socket-closed",a.UnavailableID="unavailable-id",a.WebRTC="webrtc",(i=n.SerializationType||(n.SerializationType={})).Binary="binary",i.BinaryUTF8="binary-utf8",i.JSON="json",(o=n.SocketEventType||(n.SocketEventType={})).Message="message",o.Disconnected="disconnected",o.Error="error",o.Close="close",(r=n.ServerMessageType||(n.ServerMessageType={})).Heartbeat="HEARTBEAT",r.Candidate="CANDIDATE",r.Offer="OFFER",r.Answer="ANSWER",r.Open="OPEN",r.Error="ERROR",r.IdTaken="ID-TAKEN",r.InvalidKey="INVALID-KEY",r.Leave="LEAVE",r.Expire="EXPIRE"},{}],wJlv:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u,l=e("eventemitter3"),p=c(e("./logger")),f=e("./enums"),h=(u=l.EventEmitter,o(d,u),d.prototype.start=function(e,t){this._id=e,this._wsUrl+="&id="+e+"&token="+t,this._startWebSocket()},d.prototype._startWebSocket=function(){var n=this;this._socket||(this._socket=new WebSocket(this._wsUrl),this._socket.onmessage=function(t){var e;try{e=JSON.parse(t.data)}catch(e){return void p.default.log("Invalid server message",t.data)}n.emit(f.SocketEventType.Message,e)},this._socket.onclose=function(e){p.default.log("Socket closed.",e),n._disconnected=!0,clearTimeout(n._wsPingTimer),n.emit(f.SocketEventType.Disconnected)},this._socket.onopen=function(){n._disconnected||(n._sendQueuedMessages(),p.default.log("Socket open"),n._scheduleHeartbeat())})},d.prototype._scheduleHeartbeat=function(){var e=this;this._wsPingTimer=setTimeout(function(){e._sendHeartbeat()},this.WEB_SOCKET_PING_INTERVAL)},d.prototype._sendHeartbeat=function(){if(this._wsOpen()){var e=JSON.stringify({type:f.ServerMessageType.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}else p.default.log("Cannot send heartbeat, because socket closed")},d.prototype._wsOpen=function(){return!!this._socket&&1==this._socket.readyState},d.prototype._sendQueuedMessages=function(){var t,e,n=a(this._messagesQueue);this._messagesQueue=[];try{for(var r=s(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.send(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},d.prototype.send=function(e){if(!this._disconnected)if(this._id)if(e.type){if(this._wsOpen()){var t=JSON.stringify(e);this._socket.send(t)}}else this.emit(f.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(e)},d.prototype.close=function(){!this._disconnected&&this._socket&&(this._socket.close(),this._disconnected=!0,clearTimeout(this._wsPingTimer))},d);function d(e,t,n,r,o){var i=u.call(this)||this;i.WEB_SOCKET_PING_INTERVAL=2e4,i._disconnected=!1,i._messagesQueue=[];var a=e?"wss://":"ws://";return i._wsUrl=a+t+":"+n+r+"peerjs?key="+o,i}n.Socket=h},{eventemitter3:"2JJl","./logger":"8WOs","./enums":"9ZRY"}],T9kO:[function(e,t,n){var r,o,i,a=e("js-binarypack"),s={debug:!1,inherits:function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},pack:a.pack,unpack:a.unpack,log:function(){if(s.debug){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.unshift("Reliable: "),console.log.apply(console,e)}},setZeroTimeout:(r=this,o=[],i="zero-timeout-message",r.addEventListener?r.addEventListener("message",c,!0):r.attachEvent&&r.attachEvent("onmessage",c),function(e){o.push(e),r.postMessage(i,"*")}),blobToArrayBuffer:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsArrayBuffer(e)},blobToBinaryString:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsBinaryString(e)},binaryStringToArrayBuffer:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer},randomToken:function(){return Math.random().toString(36).substr(2)}};function c(e){e.source==r&&e.data==i&&(e.stopPropagation&&e.stopPropagation(),o.length&&o.shift()())}t.exports=s},{"js-binarypack":"lHOc"}],aYFJ:[function(e,t,n){var u=e("./util");function r(e,t){if(!(this instanceof r))return new r(e);this._dc=e,u.debug=t,this._outgoing={},this._incoming={},this._received={},this._window=1e3,this._mtu=500,this._interval=0,this._count=0,this._queue=[],this._setupDC()}r.prototype.send=function(e){var t=u.pack(e);t.size<this._mtu?this._handleSend(["no",t]):(this._outgoing[this._count]={ack:0,chunks:this._chunk(t)},u.debug&&(this._outgoing[this._count].timer=new Date),this._sendWindowedChunks(this._count),this._count+=1)},r.prototype._setupInterval=function(){var r=this;this._timeout=setInterval(function(){var e=r._queue.shift();if(e._multiple)for(var t=0,n=e.length;t<n;t+=1)r._intervalSend(e[t]);else r._intervalSend(e)},this._interval)},r.prototype._intervalSend=function(e){var t=this;e=u.pack(e),u.blobToBinaryString(e,function(e){t._dc.send(e)}),0===t._queue.length&&(clearTimeout(t._timeout),t._timeout=null)},r.prototype._processAcks=function(){for(var e in this._outgoing)this._outgoing.hasOwnProperty(e)&&this._sendWindowedChunks(e)},r.prototype._handleSend=function(e){for(var t=!0,n=0,r=this._queue.length;n<r;n+=1){var o=this._queue[n];o===e?t=!1:o._multiple&&-1!==o.indexOf(e)&&(t=!1)}t&&(this._queue.push(e),this._timeout||this._setupInterval())},r.prototype._setupDC=function(){var r=this;this._dc.onmessage=function(e){var t=e.data;if(t.constructor===String){var n=u.binaryStringToArrayBuffer(t);t=u.unpack(n),r._handleMessage(t)}}},r.prototype._handleMessage=function(e){var t,n=e[1],r=this._incoming[n],o=this._outgoing[n];switch(e[0]){case"no":var i=n;i&&this.onmessage(u.unpack(i));break;case"end":if(t=r,this._received[n]=e[2],!t)break;this._ack(n);break;case"ack":if(t=o){var a=e[2];t.ack=Math.max(a,t.ack),t.ack>=t.chunks.length?(u.log("Time: ",new Date-t.timer),delete this._outgoing[n]):this._processAcks()}break;case"chunk":if(!(t=r)){if(!0===this._received[n])break;t={ack:["ack",n,0],chunks:[]},this._incoming[n]=t}var s=e[2],c=e[3];t.chunks[s]=new Uint8Array(c),s===t.ack[2]&&this._calculateNextAck(n),this._ack(n);break;default:this._handleSend(e)}},r.prototype._chunk=function(e){for(var t=[],n=e.size,r=0;r<n;){var o=Math.min(n,r+this._mtu),i={payload:e.slice(r,o)};t.push(i),r=o}return u.log("Created",t.length,"chunks."),t},r.prototype._ack=function(e){var t=this._incoming[e].ack;this._received[e]===t[2]&&(this._complete(e),this._received[e]=!0),this._handleSend(t)},r.prototype._calculateNextAck=function(e){for(var t=this._incoming[e],n=t.chunks,r=0,o=n.length;r<o;r+=1)if(void 0===n[r])return void(t.ack[2]=r);t.ack[2]=n.length},r.prototype._sendWindowedChunks=function(e){u.log("sendWindowedChunks for: ",e);for(var t=this._outgoing[e],n=t.chunks,r=[],o=Math.min(t.ack+this._window,n.length),i=t.ack;i<o;i+=1)n[i].sent&&i!==t.ack||(n[i].sent=!0,r.push(["chunk",e,i,n[i].payload]));t.ack+this._window>=n.length&&r.push(["end",e,n.length]),r._multiple=!0,this._handleSend(r)},r.prototype._complete=function(e){u.log("Completed called for",e);var t=this,n=this._incoming[e].chunks,r=new Blob(n);u.blobToArrayBuffer(r,function(e){t.onmessage(u.unpack(e))}),delete this._incoming[e]},r.higherBandwidthSDP=function(e){var t=navigator.appVersion.match(/Chrome\/(.*?) /);if(t&&(t=parseInt(t[1].split(".").shift()))<31){var n=e.split("b=AS:30");if(1<n.length)return n[0]+"b=AS:102400"+n[1]}return e},r.prototype.onmessage=function(e){},t.exports=r},{"./util":"T9kO"}],HCdX:[function(e,t,n){"use strict";var c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(i,a,s,c){return new(s=s||Promise)(function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((c=c.apply(i,a||[])).next())})},u=this&&this.__generator||function(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var l=o(e("reliable")),p=e("./util"),f=i(e("./logger")),s=e("./adapter"),h=e("./enums"),a=(d.prototype.startConnection=function(e){var t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===h.ConnectionType.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type===h.ConnectionType.Data){var n=this.connection,r={};p.util.supports.sctp||(r={reliable:e.reliable});var o=t.createDataChannel(n.label,r);n.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},d.prototype._startPeerConnection=function(){f.default.log("Creating RTCPeerConnection.");var e={};this.connection.type!==h.ConnectionType.Data||p.util.supports.sctp?this.connection.type===h.ConnectionType.Media&&(e={optional:[{DtlsSrtpKeyAgreement:!0}]}):e={optional:[{RtpDataChannels:!0}]};var t=new s.RTCPeerConnection(this.connection.provider.options.config,e);return this._setupListeners(t),t},d.prototype._setupListeners=function(e){var o=this,i=this.connection.peer,a=this.connection.connectionId,t=this.connection.type,s=this.connection.provider;f.default.log("Listening for ICE candidates."),e.onicecandidate=function(e){e.candidate&&(f.default.log("Received ICE candidates for:",i),s.socket.send({type:h.ServerMessageType.Candidate,payload:{candidate:e.candidate,type:t,connectionId:a},dst:i}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":f.default.log("iceConnectionState is failed, closing connections to "+i),o.connection.emit(h.ConnectionEventType.Error,new Error("Negotiation of connection to "+i+" failed.")),o.connection.close();break;case"closed":f.default.log("iceConnectionState is closed, closing connections to "+i),o.connection.emit(h.ConnectionEventType.Error,new Error("Negotiation of connection to "+i+" failed.")),o.connection.close();break;case"disconnected":f.default.log("iceConnectionState is disconnected, closing connections to "+i);break;case"completed":e.onicecandidate=p.util.noop}o.connection.emit(h.ConnectionEventType.IceStateChanged,e.iceConnectionState)},f.default.log("Listening for data channel"),e.ondatachannel=function(e){f.default.log("Received data channel");var t=e.channel;s.getConnection(i,a).initialize(t)},f.default.log("Listening for remote stream"),e.ontrack=function(e){f.default.log("Received remote stream");var t=e.streams[0],n=s.getConnection(i,a);if(n.type===h.ConnectionType.Media){var r=n;o._addStreamToMediaConnection(t,r)}}},d.prototype.cleanup=function(){f.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var t="closed"!==e.signalingState,n=!1;if(this.connection.type===h.ConnectionType.Data){var r=this.connection.dataChannel;n=r.readyState&&"closed"!==r.readyState}(t||n)&&e.close()}},d.prototype._makeOffer=function(){return r(this,void 0,Promise,function(){var t,n,r,o,i,a,s;return u(this,function(e){switch(e.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,e.label=1;case 1:return e.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:r=e.sent(),f.default.log("Created offer."),p.util.supports.sctp||this.connection.type!==h.ConnectionType.Data||(i=this.connection).reliable&&(r.sdp=l.higherBandwidthSDP(r.sdp)),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return e.sent(),f.default.log("Set localDescription:",r,"for:"+this.connection.peer),o={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:p.util.browser},this.connection.type===h.ConnectionType.Data&&(i=this.connection,o=c({},o,{label:i.label,reliable:i.reliable,serialization:i.serialization})),n.socket.send({type:h.ServerMessageType.Offer,payload:o,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(a=e.sent())&&(n.emitError(h.PeerErrorType.WebRTC,a),f.default.log("Failed to setLocalDescription, ",a)),[3,6];case 6:return[3,8];case 7:return s=e.sent(),n.emitError(h.PeerErrorType.WebRTC,s),f.default.log("Failed to createOffer, ",s),[3,8];case 8:return[2]}})})},d.prototype._makeAnswer=function(){return r(this,void 0,Promise,function(){var t,n,r,o,i;return u(this,function(e){switch(e.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,e.label=1;case 1:return e.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:r=e.sent(),f.default.log("Created answer."),p.util.supports.sctp||this.connection.type!==h.ConnectionType.Data||this.connection.reliable&&(r.sdp=l.higherBandwidthSDP(r.sdp)),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return e.sent(),f.default.log("Set localDescription:",r,"for:"+this.connection.peer),n.socket.send({type:h.ServerMessageType.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:p.util.browser},dst:this.connection.peer}),[3,6];case 5:return o=e.sent(),n.emitError(h.PeerErrorType.WebRTC,o),f.default.log("Failed to setLocalDescription, ",o),[3,6];case 6:return[3,8];case 7:return i=e.sent(),n.emitError(h.PeerErrorType.WebRTC,i),f.default.log("Failed to create answer, ",i),[3,8];case 8:return[2]}})})},d.prototype.handleSDP=function(i,a){return r(this,void 0,Promise,function(){var t,n,r,o;return u(this,function(e){switch(e.label){case 0:a=new s.RTCSessionDescription(a),t=this.connection.peerConnection,n=this.connection.provider,f.default.log("Setting remote description",a),r=this,e.label=1;case 1:return e.trys.push([1,5,,6]),[4,t.setRemoteDescription(a)];case 2:return e.sent(),f.default.log("Set remoteDescription:"+i+" for:"+this.connection.peer),"OFFER"!==i?[3,4]:[4,r._makeAnswer()];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return o=e.sent(),n.emitError(h.PeerErrorType.WebRTC,o),f.default.log("Failed to setRemoteDescription, ",o),[3,6];case 6:return[2]}})})},d.prototype.handleCandidate=function(a){return r(this,void 0,Promise,function(){var t,n,r,o,i;return u(this,function(e){switch(e.label){case 0:t=a.candidate,n=a.sdpMLineIndex,r=this.connection.peerConnection,o=this.connection.provider,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r.addIceCandidate(new s.RTCIceCandidate({sdpMLineIndex:n,candidate:t}))];case 2:return e.sent(),f.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return i=e.sent(),o.emitError(h.PeerErrorType.WebRTC,i),f.default.log("Failed to handleCandidate, ",i),[3,4];case 4:return[2]}})})},d.prototype._addTracksToConnection=function(t,n){if(f.default.log("add tracks from stream "+t.id+" to peer connection"),!n.addTrack)return f.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(e){n.addTrack(e,t)})},d.prototype._addStreamToMediaConnection=function(e,t){f.default.log("add stream "+e.id+" to media connection "+t.connectionId),t.addStream(e)},d);function d(e){this.connection=e}n.Negotiator=a},{reliable:"aYFJ","./util":"BHXf","./logger":"8WOs","./adapter":"sXtV","./enums":"9ZRY"}],tQFK:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=e("eventemitter3"),s=(i=a.EventEmitter,o(c,i),Object.defineProperty(c.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),c);function c(e,t,n){var r=i.call(this)||this;return r.peer=e,r.provider=t,r.options=n,r._open=!1,r.metadata=n.metadata,r}n.BaseConnection=s},{eventemitter3:"2JJl"}],dbHP:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a,u=e("./util"),l=i(e("./logger")),p=e("./negotiator"),f=e("./enums"),h=e("./baseconnection"),d=(a=h.BaseConnection,o(_,a),Object.defineProperty(_.prototype,"type",{get:function(){return f.ConnectionType.Media},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"localStream",{get:function(){return this._localStream},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!0,configurable:!0}),_.prototype.addStream=function(e){l.default.log("Receiving stream",e),this._remoteStream=e,a.prototype.emit.call(this,f.ConnectionEventType.Stream,e)},_.prototype.handleMessage=function(e){var t=e.type,n=e.payload;switch(e.type){case f.ServerMessageType.Answer:this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case f.ServerMessageType.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:l.default.warn("Unrecognized message type:"+t+" from peer:"+this.peer)}},_.prototype.answer=function(e){var t,n;if(this._localStream)l.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=e,this._negotiator.startConnection(s({},this.options._payload,{_stream:e}));var r=this.provider._getMessages(this.connectionId);try{for(var o=c(r),i=o.next();!i.done;i=o.next()){var a=i.value;this.handleMessage(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this._open=!0}},_.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,a.prototype.emit.call(this,f.ConnectionEventType.Close))},_.ID_PREFIX="mc_",_);function _(e,t,n){var r=a.call(this,e,t,n)||this;return r._localStream=r.options._stream,r.connectionId=r.options.connectionId||_.ID_PREFIX+u.util.randomToken(),r._negotiator=new p.Negotiator(r),r._localStream&&r._negotiator.startConnection({_stream:r._localStream,originator:!0}),r}n.MediaConnection=d},{"./util":"BHXf","./logger":"8WOs","./negotiator":"HCdX","./enums":"9ZRY","./baseconnection":"tQFK"}],GBTQ:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});var c,a=e("reliable"),u=e("./util"),l=i(e("./logger")),p=e("./negotiator"),f=e("./enums"),h=e("./baseconnection"),d=(c=h.BaseConnection,o(_,c),Object.defineProperty(_.prototype,"type",{get:function(){return f.ConnectionType.Data},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!0,configurable:!0}),_.prototype.initialize=function(e){this._dc=e,this._configureDataChannel()},_.prototype._configureDataChannel=function(){var t=this;if(u.util.supports.sctp&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){l.default.log("Data channel connection success"),t._open=!0,t.emit(f.ConnectionEventType.Open)},!u.util.supports.sctp&&this.reliable){var e=l.default.logLevel>l.LogLevel.Disabled;this._reliable=new a.Reliable(this.dataChannel,e)}this._reliable?this._reliable.onmessage=function(e){t.emit(f.ConnectionEventType.Data,e)}:this.dataChannel.onmessage=function(e){t._handleDataMessage(e)},this.dataChannel.onclose=function(){l.default.log("DataChannel closed for:",t.peer),t.close()}},_.prototype._handleDataMessage=function(e){var t=this,n=e.data,r=n.constructor;if(this.serialization===f.SerializationType.Binary||this.serialization===f.SerializationType.BinaryUTF8){if(r===Blob)return void u.util.blobToArrayBuffer(n,function(e){n=u.util.unpack(e),t.emit(f.ConnectionEventType.Data,n)});if(r===ArrayBuffer)n=u.util.unpack(n);else if(r===String){var o=u.util.binaryStringToArrayBuffer(n);n=u.util.unpack(o)}}else this.serialization===f.SerializationType.JSON&&(n=JSON.parse(n));if(n.__peerData){var i=n.__peerData,a=this._chunkedData[i]||{data:[],count:0,total:n.total};return a.data[n.n]=n.data,a.count++,a.total===a.count&&(delete this._chunkedData[i],n=new Blob(a.data),this._handleDataMessage({data:n})),void(this._chunkedData[i]=a)}c.prototype.emit.call(this,f.ConnectionEventType.Data,n)},_.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.open&&(this._open=!1,c.prototype.emit.call(this,f.ConnectionEventType.Close))},_.prototype.send=function(e,t){var n=this;if(this.open)if(this._reliable)this._reliable.send(e);else if(this.serialization===f.SerializationType.JSON)this._bufferedSend(JSON.stringify(e));else if(this.serialization===f.SerializationType.Binary||this.serialization===f.SerializationType.BinaryUTF8){var r=u.util.pack(e);if((u.util.chunkedBrowsers[this._peerBrowser]||u.util.chunkedBrowsers[u.util.browser])&&!t&&r.size>u.util.chunkedMTU)return void this._sendChunks(r);u.util.supports.sctp?u.util.supports.binaryBlob?this._bufferedSend(r):u.util.blobToArrayBuffer(r,function(e){n._bufferedSend(e)}):u.util.blobToBinaryString(r,function(e){n._bufferedSend(e)})}else this._bufferedSend(e);else c.prototype.emit.call(this,f.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},_.prototype._bufferedSend=function(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this._bufferSize=this._buffer.length)},_.prototype._trySend=function(e){var t=this;if(!this.open)return!1;try{this.dataChannel.send(e)}catch(e){return this._buffering=!0,setTimeout(function(){t._buffering=!1,t._tryBuffer()},100),!1}return!0},_.prototype._tryBuffer=function(){if(this.open&&0!==this._buffer.length){var e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},_.prototype._sendChunks=function(e){var t,n,r=u.util.chunk(e);try{for(var o=s(r),i=o.next();!i.done;i=o.next()){var a=i.value;this.send(a,!0)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},_.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case f.ServerMessageType.Answer:this._peerBrowser=t.browser,this._negotiator.handleSDP(e.type,t.sdp);break;case f.ServerMessageType.Candidate:this._negotiator.handleCandidate(t.candidate);break;default:l.default.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}},_.ID_PREFIX="dc_",_);function _(e,t,n){var r=c.call(this,e,t,n)||this;return r._buffer=[],r._bufferSize=0,r._buffering=!1,r._chunkedData={},r.connectionId=r.options.connectionId||_.ID_PREFIX+u.util.randomToken(),r.label=r.options.label||r.connectionId,r.serialization=r.options.serialization||f.SerializationType.Binary,r.reliable=r.options.reliable,r.options._payload&&(r._peerBrowser=r.options._payload.browser),r._negotiator=new p.Negotiator(r),r._negotiator.startConnection(r.options._payload||{originator:!0}),r}n.DataConnection=d},{reliable:"aYFJ","./util":"BHXf","./logger":"8WOs","./negotiator":"HCdX","./enums":"9ZRY","./baseconnection":"tQFK"}],in7L:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(i,a,s,c){return new(s=s||Promise)(function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((c=c.apply(i,a||[])).next())})},i=this&&this.__generator||function(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./util"),s=o(e("./logger")),c=(u.prototype._buildUrl=function(e){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e+"?ts="+(new Date).getTime()+Math.random()},u.prototype.retrieveId=function(){return r(this,void 0,Promise,function(){var t,n,r,o;return i(this,function(e){switch(e.label){case 0:t=this._buildUrl("id"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200!==(n=e.sent()).status)throw new Error("Error. Status:"+n.status);return[2,n.text()];case 3:throw r=e.sent(),s.default.error("Error retrieving ID",r),o="","/"===this._options.path&&this._options.host!==a.util.CLOUD_HOST&&(o=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+o);case 4:return[2]}})})},u.prototype.listAllPeers=function(){return r(this,void 0,Promise,function(){var t,n,r,o;return i(this,function(e){switch(e.label){case 0:t=this._buildUrl("peers"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200===(n=e.sent()).status)return[2,n.json()];if(401===n.status)throw r=this._options.host===a.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+r);throw new Error("Error. Status:"+n.status);case 3:throw o=e.sent(),s.default.error("Error retrieving list peers",o),new Error("Could not get list peers from the server."+o);case 4:return[2]}})})},u);function u(e){this._options=e}n.API=c},{"./util":"BHXf","./logger":"8WOs"}],Hxpd:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,u=e("eventemitter3"),l=e("./util"),h=a(e("./logger")),p=e("./socket"),d=e("./mediaconnection"),_=e("./dataconnection"),y=e("./enums"),v=e("./api"),b=(s=u.EventEmitter,o(g,s),Object.defineProperty(g.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"socket",{get:function(){return this._socket},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"connections",{get:function(){var t,e,n=Object.create(null);try{for(var r=f(this._connections),o=r.next();!o.done;o=r.next()){var i=c(o.value,2),a=i[0],s=i[1];n[a]=s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!0,configurable:!0}),g.prototype._initializeServerConnection=function(){var t=this;this._socket=new p.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key),this.socket.on(y.SocketEventType.Message,function(e){t._handleMessage(e)}),this.socket.on(y.SocketEventType.Error,function(e){t._abort(y.PeerErrorType.SocketError,e)}),this.socket.on(y.SocketEventType.Disconnected,function(){t.disconnected||(t.emitError(y.PeerErrorType.Network,"Lost connection to server."),t.disconnect())}),this.socket.on(y.SocketEventType.Close,function(){t.disconnected||t._abort(y.PeerErrorType.SocketClosed,"Underlying socket is already closed.")})},g.prototype._initialize=function(e){this._id=e,this.socket.start(this.id,this._options.token)},g.prototype._handleMessage=function(e){var t,n,r=e.type,o=e.payload,i=e.src;switch(r){case y.ServerMessageType.Open:this.emit(y.PeerEventType.Open,this.id),this._open=!0;break;case y.ServerMessageType.Error:this._abort(y.PeerErrorType.ServerError,o.msg);break;case y.ServerMessageType.IdTaken:this._abort(y.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case y.ServerMessageType.InvalidKey:this._abort(y.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case y.ServerMessageType.Leave:h.default.log("Received leave message from",i),this._cleanupPeer(i),this._connections.delete(i);break;case y.ServerMessageType.Expire:this.emitError(y.PeerErrorType.PeerUnavailable,"Could not connect to peer "+i);break;case y.ServerMessageType.Offer:var a=o.connectionId;if((p=this.getConnection(i,a))&&(p.close(),h.default.warn("Offer received for existing Connection ID:",a)),o.type===y.ConnectionType.Media)p=new d.MediaConnection(i,this,{connectionId:a,_payload:o,metadata:o.metadata}),this._addConnection(i,p),this.emit(y.PeerEventType.Call,p);else{if(o.type!==y.ConnectionType.Data)return void h.default.warn("Received malformed connection type:",o.type);p=new _.DataConnection(i,this,{connectionId:a,_payload:o,metadata:o.metadata,label:o.label,serialization:o.serialization,reliable:o.reliable}),this._addConnection(i,p),this.emit(y.PeerEventType.Connection,p)}var s=this._getMessages(a);try{for(var c=f(s),u=c.next();!u.done;u=c.next()){var l=u.value;p.handleMessage(l)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}break;default:if(!o)return void h.default.warn("You received a malformed message from "+i+" of type "+r);var p;a=o.connectionId,(p=this.getConnection(i,a))&&p.peerConnection?p.handleMessage(e):a?this._storeMessage(a,e):h.default.warn("You received an unrecognized message:",e)}},g.prototype._storeMessage=function(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)},g.prototype._getMessages=function(e){var t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]},g.prototype.connect=function(e,t){if(void 0===t&&(t={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(y.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var n=new _.DataConnection(e,this,t);return this._addConnection(e,n),n},g.prototype.call=function(e,t,n){if(void 0===n&&(n={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(y.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(t){n._stream=t;var r=new d.MediaConnection(e,this,n);return this._addConnection(e,r),r}h.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},g.prototype._addConnection=function(e,t){h.default.log("add connection "+t.type+":"+t.connectionId+"\n       to peerId:"+e),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)},g.prototype._removeConnection=function(e){var t=this._connections.get(e.peer);if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)},g.prototype.getConnection=function(e,t){var n,r,o=this._connections.get(e);if(!o)return null;try{for(var i=f(o),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.connectionId===t)return s}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null},g.prototype._delayedAbort=function(e,t){var n=this;setTimeout(function(){n._abort(e,t)},0)},g.prototype._abort=function(e,t){h.default.error("Aborting!"),this._lastServerId?this.disconnect():this.destroy(),this.emitError(e,t)},g.prototype.emitError=function(e,t){h.default.error("Error:",t),"string"==typeof t&&(t=new Error(t)),t.type=e,this.emit(y.PeerEventType.Error,t)},g.prototype.destroy=function(){this.destroyed||(this._cleanup(),this.disconnect(),this._destroyed=!0)},g.prototype._cleanup=function(){var t,e;try{for(var n=f(this._connections.keys()),r=n.next();!r.done;r=n.next()){var o=r.value;this._cleanupPeer(o),this._connections.delete(o)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.emit(y.PeerEventType.Close)},g.prototype._cleanupPeer=function(e){var t,n,r=this._connections.get(e);if(r)try{for(var o=f(r),i=o.next();!i.done;i=o.next())i.value.close()}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},g.prototype.disconnect=function(){var e=this;setTimeout(function(){e.disconnected||(e._disconnected=!0,e._open=!1,e.socket&&e.socket.close(),e.emit(y.PeerEventType.Disconnected,e.id),e._lastServerId=e.id,e._id=null)},0)},g.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)h.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initializeServerConnection(),this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");h.default.error("In a hurry? We're still trying to make the initial connection!")}},g.prototype.listAllPeers=function(t){var n=this;void 0===t&&(t=function(e){}),this._api.listAllPeers().then(function(e){return t(e)}).catch(function(e){return n._abort(y.PeerErrorType.ServerError,e)})},g.DEFAULT_KEY="peerjs",g);function g(e,t){var n=s.call(this)||this;return n._destroyed=!1,n._disconnected=!1,n._open=!1,n._connections=new Map,n._lostMessages=new Map,e=e&&e.constructor==Object?void(t=e):e&&e.toString(),t=i({debug:0,host:l.util.CLOUD_HOST,port:l.util.CLOUD_PORT,path:"/",key:g.DEFAULT_KEY,token:l.util.randomToken(),config:l.util.defaultConfig},t),"/"===(n._options=t).host&&(t.host=window.location.hostname),"/"!==t.path[0]&&(t.path="/"+t.path),"/"!==t.path[t.path.length-1]&&(t.path+="/"),void 0===t.secure&&t.host!==l.util.CLOUD_HOST?t.secure=l.util.isSecure():t.host==l.util.CLOUD_HOST&&(t.secure=!0),t.logFunction&&h.default.setLogFunction(t.logFunction),h.default.logLevel=t.debug,l.util.supports.audioVideo||l.util.supports.data?l.util.validateId(e)?(n._api=new v.API(t),n._initializeServerConnection(),e?n._initialize(e):n._api.retrieveId().then(function(e){return n._initialize(e)}).catch(function(e){return n._abort(y.PeerErrorType.ServerError,e)})):n._delayedAbort(y.PeerErrorType.InvalidID,'ID "'+e+'" is invalid'):n._delayedAbort(y.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),n}n.Peer=b},{eventemitter3:"2JJl","./util":"BHXf","./logger":"8WOs","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"9ZRY","./api":"in7L"}],iTK6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util"),o=e("./peer");n.peerjs={Peer:o.Peer,util:r.util},n.default=o.Peer,window.peerjs=n.peerjs,window.Peer=o.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"]);
</script>

<script>
var debug = document.getElementById("debug");
var peer = new Peer();
var server = prompt("Server? T or F").toUpperCase();
var keys = [];
document.body.addEventListener("keydown", function(e) {
    keys[e.keyCode] = true;
});
document.body.addEventListener("keyup", function(e) {
    keys[e.keyCode] = false;
});
//Sets up servers or connections
if(server == "T"){
//Just gets the id onscreen, not the best but it works
peer.on("open", function(id){document.getElementById("id").innerHTML = id;});
var terminal = document.getElementById("terminal");
terminal.type = "";
peer.on('connection', function(conn) { 
	conn.on('open', function() {
  		// Receive messages
        conn.send("Hi!");
  		conn.on('data', function(data) {
    		debug.innerHTML += "<br>" + data;
  		});
        
        	setInterval(function(){
        		if(keys[13]){
        			conn.send(terminal.value);
                    terminal.value = "";
         		}
            }, 100);
	});
});
} else {

	var conn = peer.connect(prompt("Server ID?"));
    var terminal = document.getElementById("terminal");

    conn.on('open', function() {
		conn.send("Hi!");
  		conn.on('data', function(data) {
    		debug.innerHTML += "<br>" + data;
  		});
        
        	setInterval(function(){
        		if(keys[13]){
        			conn.send(terminal.value);
                    terminal.value = "";
         		}
            }, 100);
	});
}
</script>

</body>
</html>
